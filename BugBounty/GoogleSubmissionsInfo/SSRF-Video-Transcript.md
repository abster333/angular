Server Side Request Forgeries, are a very  interesting vulnerability class that can have HUGE impact. For example on my YouTube channel  LiveOverflow I have covered the story of ezequiel, a google bug bounty hunter who  found a crazy SSRF in Google Cloud.
Simply speaking a SSRF is an issue in a  website, where you can somehow make a server perform a request for you. If this server  is for example inside an internal network, and from the outside you couldn’t access  the internal servers, now you could use the vulnerable webserver and make it perform the  request. That is what ezequiel did in his attack, reaching other google internal servers. Now when you look up how to test for SSRF, you quickly come across tools like burp  collaborator or requestbin.io. This is a website where when an HTTP request is  sent to this URL, it will get logged here.
If we for example take this URL and send  it in Google hangouts, and wait a moment, refresh the request bin, we can see that a Google  server sent a request to this URL. The question is now, is this a SSRF vulnerability in Google? To help us answer this question, I asked Codingo.
He will tell us about common misconceptions  of Server side request forgery attacks.
hi so i'm codingo i am a reasonably experienced  bug hunter i've been in the top 20 at bugcrowd and these days i also manage one of the major teams at  bugcrowd being the triage and the validation team and essentially i sit in between the  researcher and the customer with this team helping to validate make sure things  are as accurate as detailed as possible and in this video i'm going to talk to you  about a commonly misunderstood bug class ssrf and how you can avoid the common  mistakes that people make to make sure
that your reports as impactful as possible to be  as effective with triage as they possibly can.
if you're not already familiar with ssrf  essentially what it allows you to do is send http requests to one server on behalf  of another server so you could be speaking to server A and it could be sending requests to  server B on your behalf and this can lead to a whole range of things it could allow you to speak  to a server that you couldn't otherwise speak to it could lead to arbitrary command execution  or it could allow you to attack server B looking like the origin of a server A is where  the attack is coming from even though you're speaking through server a so you could attack  another organization potentially using that ssrf it's a rather complicated bug class there's  a range of depth to it i definitely recommend spending some time learning a lot about it if  there's any bug class that gets most misconstrued i'd say it's this one it has a lot of depth a lot  of variety and a lot of things that look like ssrf don't necessarily have an impact so um you can  get false positives in things like burp suite where you're receiving potential ssrf scenarios  but it's only a dns callback at that point it doesn't have an impact so learning and deep diving  this vulnerability is very important to being able to make the most of it and then in turn have  a successful uh bug bounty report coming in behind it so the first way you need to think about  this is impact what is the impact of my ssrf if you're sitting on something where you're able to  access aws keys or you've got verified access to an internal server you're probably going to stop  at that point you have an impact you can craft a report around that what about something else so  what about cases where you can make a http request to another website over the internet that's not  uncommon to be considered a false positive and accepted risk on the google VRP program for  example they're only going to pay these in situations where you can prove that you've got  a rate limit or some sort of resource exhaustion that pairs with that bug simply being able to  make a request to another server over the internet typically is considered a false positive  this also stems into DNS only findings a lot of people when they're first coming  across ssrf their first experience with it is that burp suite told them that there was a  ssrf potential because burke collaborator had a dns response that in itself lacks the impact  to be a business a business addressable impact the kind of finding that would typically have a  payment behind it it is the indication that you might want to go further but you are still at  the point where you don't quite have a finding you just have a lead to a fighting which is a good  thing in itself but depending which lens you look at it but not something that you're going to rush  into a report and expect to have you know p1, p2 even p3, p4 kind of impact out of you  need to spend more time isolating into what can i do here what's the risk can i use this  request and make http requests with it if you can can you then use that to try and identify an  internal server that you can request against if that's not the case if you could only request  other servers on the internet is there a rate limit kind of element here or could this turn  this server into something that is going to cause resource exhaustion for itself for other servers  on the internet and at that point you'd stop and you'd report so you need to explore further you  need to look deeper the common mistake made is is stopping at that first perimeter and going i can  make a request from here to here that's not enough that's just a start point it's very important to  consider i can make a request from here to here 100 times over or i can make a request from  here to here and over here is an internal server that i'm talking to something that i normally  shouldn't be able to access over the internet so another unintended consequence of burp  collaborator and those other external tools is they can misrepresent situations to you  those links and those addresses can be consumed by web hooks uh html forms and other ways that  don't necessarily indicate that there's a business impact or a security impact sitting behind  there a common one that i see is people emailing using an email-based form seeing about  collaborator hit and getting excited and thinking there's a finding but it's actually smtp working  as intended it's just emailing your collaborator address and you can test this yourself you can go  to an email client email collaborator you'll see you get a fire because the url has been processed  and collaborator rightfully so is letting you know about that event that doesn't mean you have any  impact sitting behind it but it does mean that the input was consumed which can maybe tell  you something about the inner workings of the application but isn't telling you that there's  a security risk there it's just telling you my url has been fired and it's worth taking some  time before you report something that relies on burp collaborate or elsewhere and you're not quite  sure about the impact to understand why it could be firing and is there a true risk sitting behind  this or is this just a web hook is processing what i'm providing it and its work is intended maybe  a web application firewall is picking up from the logs and processing but you don't actually have a  hook into any sort of internal system or anything outside of maybe you've got an internal ip address  disclosure but that in itself isn't going to be payable and isn't a significant event you need  to go deeper than that on the whole i hope this gave you a quick summary of ssrf um definitely  refer to portswigger's resources there's also a range of other great videos on youtube that you  can watch um it's important to not underestimate the potential impact of ssrf and to make sure that  you fully explored it before reporting it it's a very powerful bug class but there's a whole range  of depth to it it's not the kind of thing that you're going to master immediately and it's worth  putting the time in doing some additional research and just taking the elements in this video i need  to avoid those mistakes or understand the function that's happening behind this better so that if  i run into these kind of cases i know how to check if there is an actual vulnerability there  and i hope the information here has helped you and i look forward to providing more  content like this in the future Thanks Codingo. I hope you paid attention to what  he said. A server sending out a request is often a perfectly normal thing. So it only becomes a  SSRF vulnerability if you can proof that you can do something with that. For example,  accessing internal servers. Which means, just seeing that a google server sent  out a request, is not enough evidence.
You need to proof some kind of impact. By this is not only important for SSRF, but bugbounty in general. So checkout the  article about “Writing down the attack scenario”.
That’s always important. It also features two  more videos about how to write a good report and another video of mine talking about the  importance of impact for vulnerabilities.
Anyway. I hope with this advice we were able  to clear up some confusion around hunting for Server side request forgery issues. And looking  forward to the bugs you find in the future.